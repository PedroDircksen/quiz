<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Quiz de Perfis Comportamentais</title>
  <style>
    :root {
      --bg: #ffe4ec;
      --card: #fff;
      --accent: #ff99c8;
      --accent-light: #ffd1e4;
      --text: #333;
    }
    * { box-sizing: border-box; }
    html, body {
      margin: 0; padding: 0; height: 100%; font-family: Arial, sans-serif;
      background: var(--bg); color: var(--text);
    }

    /* Capa full-screen */
    #cover {
      position: fixed; top: 0; left: 0;
      width: 100%; height: 100%;
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      text-align: center; padding: 0 20px;
      background: var(--bg); z-index: 1000;
    }
    #cover h1 { font-size: 2.2rem; color: var(--accent); margin-bottom: 10px; }
    #cover p  { margin: 0 0 20px; font-size: 1.1rem; }
    #startBtn {
      background: var(--accent); border: none; color: #fff;
      padding: 14px 28px; border-radius: 5px; font-size: 1.1rem;
      cursor: pointer;
    }
    #startBtn:hover { background: #ff7aa0; }

    /* Quiz Container */
    #quiz-container {
      display: none; width: 100%; max-width: 600px; margin: 40px auto;
    }
    form {
      background: var(--card); padding: 20px; border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    .page { display: none; }
    fieldset { border: none; margin-bottom: 15px; padding: 0; }
    legend { font-weight: bold; margin-bottom: 8px; }
    .options label {
      display: block; padding: 8px 12px; margin-bottom: 6px;
      border: 1px solid #ccc; border-radius: 5px; cursor: pointer;
      transition: background 0.3s, border-color 0.3s, color 0.3s;
    }
    .options label:hover { background: var(--accent-light); }
    .options label:has(input:checked) {
      background: var(--accent); border-color: var(--accent); color: #fff;
    }
    .options input[type="radio"] { margin-right: 8px; }
    .navigation {
      text-align: right; margin-top: 10px;
    }
    .navigation button {
      background: var(--accent); border: none; color: #fff;
      padding: 8px 16px; border-radius: 5px; cursor: pointer;
      font-size: 1rem; margin-left: 5px;
    }
    .navigation button:hover { background: #ff7aa0; }

    /* Resultado */
    #result {
      display: none; text-align: center; margin-top: 20px;
      background: var(--card); padding: 20px; border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    #result h2 { color: var(--accent); margin-bottom: 10px; }
    #profile-names { font-size: 1.2rem; margin-bottom: 20px; }

    /* Imagens lado a lado com gap de 2% */
    #images-container {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 2%;
      margin-top: 20px;
    }
    #images-container .img-wrapper {
      flex: 1 1 45%;
      max-width: 350px;
      position: relative;
      cursor: pointer;
    }
    #images-container img {
      width: 100%;
      height: auto;
      border-radius: 10px;
      display: block;
    }
    .zoom-icon {
      position: absolute; top: 8px; right: 8px;
      background: rgba(255,255,255,0.8); border-radius: 50%; padding: 4px;
      font-size: 1.2rem; pointer-events: none;
    }

    /* Modal de imagem */
    #img-modal {
      display: none; position: fixed; top: 0; left: 0;
      width: 100%; height: 100%; background: rgba(0,0,0,0.8);
      align-items: center; justify-content: center; z-index: 2000;
    }
    #img-modal img {
      max-width: 90vw; max-height: 90vh; border-radius: 10px;
    }
    #img-modal .close {
      position: absolute; top: 20px; right: 20px;
      background: #fff; border: none; border-radius: 50%;
      width: 32px; height: 32px; font-size: 1.2rem; cursor: pointer;
    }
  </style>
</head>
<body>

  <!-- Capa -->
  <div id="cover">
    <h1>Quiz de Perfis Comportamentais</h1>
    <p>Responda 10 perguntas e descubra seu perfil profissional!</p>
    <button id="startBtn">Começar Quiz</button>
  </div>

  <!-- Quiz e Resultado -->
  <div id="quiz-container">
    <form id="quiz">
      <!-- Página 1 (Perguntas 1–3) -->
      <div class="page" data-page="0">
        <fieldset>
          <legend>1. Em uma reunião, você geralmente:</legend>
          <div class="options">
            <label><input type="radio" name="q1" value="A" required> Prefere anotar e entender os detalhes.</label>
            <label><input type="radio" name="q1" value="B"> Quer chegar logo nas decisões práticas.</label>
            <label><input type="radio" name="q1" value="C"> Ajuda a manter a organização e o foco.</label>
            <label><input type="radio" name="q1" value="D"> Gosta de falar e ouvir os outros.</label>
          </div>
        </fieldset>
        <fieldset>
          <legend>2. Em uma situação de conflito, você tende a:</legend>
          <div class="options">
            <label><input type="radio" name="q2" value="A" required> Avaliar os fatos e buscar uma solução lógica.</label>
            <label><input type="radio" name="q2" value="B"> Enfrentar o problema diretamente e impor sua opinião.</label>
            <label><input type="radio" name="q2" value="C"> Evitar o confronto e tentar manter a harmonia.</label>
            <label><input type="radio" name="q2" value="D"> Usar o bom humor para aliviar a tensão.</label>
          </div>
        </fieldset>
        <fieldset>
          <legend>3. O que mais te motiva no trabalho?</legend>
          <div class="options">
            <label><input type="radio" name="q3" value="A" required> Resolver problemas com eficiência e qualidade.</label>
            <label><input type="radio" name="q3" value="B"> Conquistar objetivos ambiciosos.</label>
            <label><input type="radio" name="q3" value="C"> Sentir estabilidade e segurança.</label>
            <label><input type="radio" name="q3" value="D"> Se relacionar com pessoas e se sentir reconhecido.</label>
          </div>
        </fieldset>
      </div>

      <!-- Página 2 (Perguntas 4–6) -->
      <div class="page" data-page="1">
        <fieldset>
          <legend>4. Você se sente mais produtivo quando:</legend>
          <div class="options">
            <label><input type="radio" name="q4" value="A" required> Está em um ambiente organizado e com regras claras.</label>
            <label><input type="radio" name="q4" value="B"> Está sob pressão e com metas ousadas.</label>
            <label><input type="radio" name="q4" value="C"> Está em um ambiente calmo e previsível.</label>
            <label><input type="radio" name="q4" value="D"> Está cercado de pessoas e novidades.</label>
          </div>
        </fieldset>
        <fieldset>
          <legend>5. Como você reage sob pressão?</legend>
          <div class="options">
            <label><input type="radio" name="q5" value="A" required> Fica mais sério e foca em controlar tudo.</label>
            <label><input type="radio" name="q5" value="B"> Age com rapidez e tenta resolver logo.</label>
            <label><input type="radio" name="q5" value="C"> Se retrai e evita confrontos.</label>
            <label><input type="radio" name="q5" value="D"> Fica mais agitado e busca apoio.</label>
          </div>
        </fieldset>
        <fieldset>
          <legend>6. O que mais te incomoda no trabalho é:</legend>
          <div class="options">
            <label><input type="radio" name="q6" value="A" required> Falta de organização e dados.</label>
            <label><input type="radio" name="q6" value="B"> Lentidão e indecisão.</label>
            <label><input type="radio" name="q6" value="C"> Mudanças repentinas.</label>
            <label><input type="radio" name="q6" value="D"> Falta de interação social.</label>
          </div>
        </fieldset>
      </div>

      <!-- Página 3 (Perguntas 7–10) -->
      <div class="page" data-page="2">
        <fieldset>
          <legend>7. Em um trabalho em equipe, seu papel natural é:</legend>
          <div class="options">
            <label><input type="radio" name="q7" value="A" required> Organizar e garantir qualidade.</label>
            <label><input type="radio" name="q7" value="B"> Assumir a liderança e impulsionar a ação.</label>
            <label><input type="radio" name="q7" value="C"> Estabilizar e manter o grupo unido.</label>
            <label><input type="radio" name="q7" value="D"> Motivar e manter todos engajados.</label>
          </div>
        </fieldset>
        <fieldset>
          <legend>8. Como você lida com mudanças?</legend>
          <div class="options">
            <label><input type="radio" name="q8" value="A" required> Prefere planejamento e previsibilidade.</label>
            <label><input type="radio" name="q8" value="B"> Gosta de desafios e se adapta com facilidade.</label>
            <label><input type="radio" name="q8" value="C"> Precisa de tempo para se adaptar.</label>
            <label><input type="radio" name="q8" value="D"> Abraça a mudança com entusiasmo.</label>
          </div>
        </fieldset>
        <fieldset>
          <legend>9. Quando alguém precisa de ajuda, você:</legend>
          <div class="options">
            <label><input type="radio" name="q9" value="A" required> Oferece soluções práticas e técnicas.</label>
            <label><input type="radio" name="q9" value="B"> Toma iniciativa e resolve por conta própria.</label>
            <label><input type="radio" name="q9" value="C"> Escuta com empatia e apoio emocional.</label>
            <label><input type="radio" name="q9" value="D"> Anima a pessoa e a motiva com palavras.</label>
          </div>
        </fieldset>
        <fieldset>
          <legend>10. Quando recebe uma crítica, você:</legend>
          <div class="options">
            <label><input type="radio" name="q10" value="A" required> Reflete e busca entender o ponto técnico.</label>
            <label><input type="radio" name="q10" value="B"> Defende seu ponto de vista e parte para o próximo desafio.</label>
            <label><input type="radio" name="q10" value="C"> Se magoa, mas procura melhorar.</label>
            <label><input type="radio" name="q10" value="D"> Leva com leveza, mesmo que não concorde.</label>
          </div>
        </fieldset>
      </div>

      <div class="navigation">
        <button type="button" id="prevBtn">Anterior</button>
        <button type="button" id="nextBtn">Próxima</button>
      </div>
    </form>

    <div id="result">
      <h2 id="result-title"></h2>
      <div id="profile-names"></div>
      <div id="images-container"></div>
    </div>
  </div>

  <!-- Modal -->
  <div id="img-modal">
    <button class="close">&times;</button>
    <img src="" alt="Ampliar perfil">
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const cover     = document.getElementById('cover');
      const startBtn  = document.getElementById('startBtn');
      const quizCont  = document.getElementById('quiz-container');
      const form      = document.getElementById('quiz');
      const pages     = document.querySelectorAll('.page');
      const prevBtn   = document.getElementById('prevBtn');
      const nextBtn   = document.getElementById('nextBtn');
      const result    = document.getElementById('result');
      const titleEl   = document.getElementById('result-title');
      const namesEl   = document.getElementById('profile-names');
      const imgCont   = document.getElementById('images-container');
      const modal     = document.getElementById('img-modal');
      const modalImg  = modal.querySelector('img');
      const closeBtn  = modal.querySelector('.close');

      const profiles = {
        A: { name: 'Analista',     img: 'images/analista.jpg' },
        B: { name: 'Executor',     img: 'images/executor.jpg' },
        C: { name: 'Planejador',   img: 'images/planejador.jpg' },
        D: { name: 'Comunicativo', img: 'images/comunicativo.jpg' }
      };

      startBtn.addEventListener('click', () => {
        cover.style.display    = 'none';
        quizCont.style.display = 'block';
        showPage(0);
      });

      let currentPage = 0;
      function showPage(n) {
        pages.forEach((p,i) => p.style.display = i === n ? 'block' : 'none');
        prevBtn.style.display = n === 0 ? 'none' : 'inline-block';
        nextBtn.textContent   = n === pages.length - 1 ? 'Enviar' : 'Próxima';
      }
      prevBtn.addEventListener('click', () => { if (currentPage > 0) showPage(--currentPage); });
      nextBtn.addEventListener('click', () => {
        if (currentPage < pages.length - 1) showPage(++currentPage);
        else form.requestSubmit();
      });

      form.addEventListener('submit', e => {
        e.preventDefault();
        const data   = new FormData(form);
        const tally  = { A:0, B:0, C:0, D:0 };
        const totalQ = 10;
        for (let i = 1; i <= totalQ; i++) tally[data.get('q'+i)]++;
        const perc    = {};
        Object.keys(tally).forEach(k => perc[k] = (tally[k] / totalQ) * 100);
        const maxPerc = Math.max(...Object.values(perc));
        const winners = Object.keys(perc).filter(k => perc[k] >= maxPerc - 2);

        titleEl.textContent = winners.length > 1 ? 'Seus perfis:' : 'Seu perfil:';
        namesEl.textContent = winners.map(k => profiles[k].name).join(' e ');

        imgCont.innerHTML = '';
        winners.forEach(k => {
          const wrap = document.createElement('div');
          wrap.className = 'img-wrapper';
          wrap.innerHTML = `
            <img src="${profiles[k].img}" alt="${profiles[k].name}">
            <span class="zoom-icon">🔍</span>
          `;
          wrap.addEventListener('click', () => {
            modalImg.src = profiles[k].img;
            modal.style.display = 'flex';
          });
          imgCont.appendChild(wrap);
        });

        form.style.display   = 'none';
        result.style.display = 'block';
      });

      closeBtn.addEventListener('click', () => modal.style.display = 'none');
      modal.addEventListener('click', e => { if (e.target === modal) modal.style.display = 'none'; });
    });
  </script>
</body>
</html>
