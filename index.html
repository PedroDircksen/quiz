<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Quiz de Perfis Comportamentais</title>

  <style>
    :root {
      --bg: #fdf2f8;
      --card: #ffffff;
      --accent: #d6336c;
      --accent-dark: #c2255c;
      --accent-light: #f8d7da;
      --text: #343a40;
    }

    * {
      box-sizing: border-box;
    }

    html,
    body {
      margin: 0;
      padding: 0;
      height: 100%;
      font-family: Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
    }

    input[type="radio"] {
      accent-color: var(--accent);
    }

    /* ---------- CAPA ---------- */
    #cover {
      position: fixed;
      inset: 0;
      background: var(--bg);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 16px;
      padding: 0 24px;
      text-align: center;
      z-index: 999;
    }

    #cover h1 {
      font-size: 2.2rem;
      color: var(--accent);
      margin-bottom: 4px;
    }

    #cover p {
      font-size: 1.05rem;
      margin-bottom: 12px;
    }

    .cover-input {
      width: 100%;
      max-width: 340px;
      padding: 12px 14px;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-size: 1rem;
    }

    #startBtn {
      background: var(--accent);
      border: none;
      color: #fff;
      padding: 14px 28px;
      border-radius: 6px;
      font-size: 1.1rem;
      cursor: pointer;
    }

    #startBtn:hover {
      background: var(--accent-dark);
    }

    /* ---------- QUIZ ---------- */
    #quiz-container {
      display: none;
      max-width: 600px;
      margin: 40px auto;
      padding: 0 20px;
    }

    form {
      background: var(--card);
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    }

    .page {
      display: none;
    }

    fieldset {
      border: none;
      margin: 0 0 20px;
      padding: 0;
    }

    legend {
      font-weight: bold;
      margin-bottom: 8px;
    }

    .options label {
      display: block;
      padding: 10px 14px;
      margin-bottom: 8px;
      border: 1px solid #ccc;
      border-radius: 5px;
      cursor: pointer;
      transition: background 0.2s, border-color 0.2s, color 0.2s;
    }

    .options label:hover {
      background: var(--accent-light);
    }

    .options label:has(input:checked) {
      background: var(--accent);
      border-color: var(--accent);
      color: #fff;
    }

    .options input {
      margin-right: 8px;
    }

    .navigation {
      text-align: right;
    }

    .navigation button {
      background: var(--accent);
      border: none;
      color: #fff;
      padding: 8px 16px;
      border-radius: 5px;
      font-size: 1rem;
      cursor: pointer;
      margin-left: 8px;
    }

    .navigation button:hover {
      background: var(--accent-dark);
    }

    /* ---------- RESULTADO ---------- */
    #result {
      display: none;
      text-align: center;
      margin-top: 30px;
      background: var(--card);
      padding: 30px 20px;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    }

    #result h2 {
      color: var(--accent);
      margin-bottom: 16px;
      font-size: 1.8rem;
    }

    #profile-names {
      display: inline-block;
      background: var(--accent-light);
      color: var(--accent);
      padding: 14px 24px;
      border-radius: 8px;
      font-size: 1.4rem;
      font-weight: bold;
    }
  </style>
</head>

<body>
  <!-- ---------- CAPA ---------- -->
  <div id="cover">
    <h1>Quiz de Perfis Comportamentais</h1>
    <p>Digite seus dados, responda 10 perguntas e descubra seu perfil profissional!</p>

    <input id="userName" class="cover-input" type="text" placeholder="Seu nome" required />
    <input id="userPhone" class="cover-input" type="tel" placeholder="Seu telefone (WhatsApp)" required />

    <button id="startBtn">Começar Quiz</button>
  </div>

  <!-- ---------- QUIZ & RESULTADO ---------- -->
  <div id="quiz-container">
    <form id="quiz">
      <!-- 5 páginas, 2 perguntas cada -->
      <div class="page" data-page="0">
        <fieldset>
          <legend>1. Em uma reunião, você geralmente:</legend>
          <div class="options">
            <label><input type="radio" name="q1" value="A" required> Prefere anotar e entender os detalhes.</label>
            <label><input type="radio" name="q1" value="B"> Quer chegar logo nas decisões práticas.</label>
            <label><input type="radio" name="q1" value="C"> Ajuda a manter a organização e o foco.</label>
            <label><input type="radio" name="q1" value="D"> Gosta de falar e ouvir os outros.</label>
          </div>
        </fieldset>
        <fieldset>
          <legend>2. Em uma situação de conflito, você tende a:</legend>
          <div class="options">
            <label><input type="radio" name="q2" value="A" required> Avaliar os fatos e buscar uma solução
              lógica.</label>
            <label><input type="radio" name="q2" value="B"> Enfrentar o problema diretamente e impor sua
              opinião.</label>
            <label><input type="radio" name="q2" value="C"> Evitar o confronto e tentar manter a harmonia.</label>
            <label><input type="radio" name="q2" value="D"> Usar o bom humor para aliviar a tensão.</label>
          </div>
        </fieldset>
      </div>

      <div class="page" data-page="1">
        <fieldset>
          <legend>3. O que mais te motiva no trabalho?</legend>
          <div class="options">
            <label><input type="radio" name="q3" value="A" required> Resolver problemas com eficiência e
              qualidade.</label>
            <label><input type="radio" name="q3" value="B"> Conquistar objetivos ambiciosos.</label>
            <label><input type="radio" name="q3" value="C"> Sentir estabilidade e segurança.</label>
            <label><input type="radio" name="q3" value="D"> Se relacionar com pessoas e se sentir reconhecido.</label>
          </div>
        </fieldset>
        <fieldset>
          <legend>4. Você se sente mais produtivo quando:</legend>
          <div class="options">
            <label><input type="radio" name="q4" value="A" required> Está em um ambiente organizado e com regras
              claras.</label>
            <label><input type="radio" name="q4" value="B"> Está sob pressão e com metas ousadas.</label>
            <label><input type="radio" name="q4" value="C"> Está em um ambiente calmo e previsível.</label>
            <label><input type="radio" name="q4" value="D"> Está cercado de pessoas e novidades.</label>
          </div>
        </fieldset>
      </div>

      <div class="page" data-page="2">
        <fieldset>
          <legend>5. Como você reage sob pressão?</legend>
          <div class="options">
            <label><input type="radio" name="q5" value="A" required> Fica mais sério e foca em controlar tudo.</label>
            <label><input type="radio" name="q5" value="B"> Age com rapidez e tenta resolver logo.</label>
            <label><input type="radio" name="q5" value="C"> Se retrai e evita confrontos.</label>
            <label><input type="radio" name="q5" value="D"> Fica mais agitado e busca apoio.</label>
          </div>
        </fieldset>
        <fieldset>
          <legend>6. O que mais te incomoda no trabalho é:</legend>
          <div class="options">
            <label><input type="radio" name="q6" value="A" required> Falta de organização e dados.</label>
            <label><input type="radio" name="q6" value="B"> Lentidão e indecisão.</label>
            <label><input type="radio" name="q6" value="C"> Mudanças repentinas.</label>
            <label><input type="radio" name="q6" value="D"> Falta de interação social.</label>
          </div>
        </fieldset>
      </div>

      <div class="page" data-page="3">
        <fieldset>
          <legend>7. Em um trabalho em equipe, seu papel natural é:</legend>
          <div class="options">
            <label><input type="radio" name="q7" value="A" required> Organizar e garantir qualidade.</label>
            <label><input type="radio" name="q7" value="B"> Assumir a liderança e impulsionar a ação.</label>
            <label><input type="radio" name="q7" value="C"> Estabilizar e manter o grupo unido.</label>
            <label><input type="radio" name="q7" value="D"> Motivar e manter todos engajados.</label>
          </div>
        </fieldset>
        <fieldset>
          <legend>8. Como você lida com mudanças?</legend>
          <div class="options">
            <label><input type="radio" name="q8" value="A" required> Prefere planejamento e previsibilidade.</label>
            <label><input type="radio" name="q8" value="B"> Gosta de desafios e se adapta com facilidade.</label>
            <label><input type="radio" name="q8" value="C"> Precisa de tempo para se adaptar.</label>
            <label><input type="radio" name="q8" value="D"> Abraça a mudança com entusiasmo.</label>
          </div>
        </fieldset>
      </div>

      <div class="page" data-page="4">
        <fieldset>
          <legend>9. Quando alguém precisa de ajuda, você:</legend>
          <div class="options">
            <label><input type="radio" name="q9" value="A" required> Oferece soluções práticas e técnicas.</label>
            <label><input type="radio" name="q9" value="B"> Toma iniciativa e resolve por conta própria.</label>
            <label><input type="radio" name="q9" value="C"> Escuta com empatia e apoio emocional.</label>
            <label><input type="radio" name="q9" value="D"> Anima a pessoa e a motiva com palavras.</label>
          </div>
        </fieldset>
        <fieldset>
          <legend>10. Quando recebe uma crítica, você:</legend>
          <div class="options">
            <label><input type="radio" name="q10" value="A" required> Reflete e busca entender o ponto técnico.</label>
            <label><input type="radio" name="q10" value="B"> Defende seu ponto de vista e parte para o próximo
              desafio.</label>
            <label><input type="radio" name="q10" value="C"> Se magoa, mas procura melhorar.</label>
            <label><input type="radio" name="q10" value="D"> Leva com leveza, mesmo que não concorde.</label>
          </div>
        </fieldset>
      </div>

      <div class="navigation">
        <button type="button" id="prevBtn">Anterior</button>
        <button type="button" id="nextBtn">Próxima</button>
      </div>
    </form>

    <div id="result">
      <h2 id="result-title"></h2>
      <div id="profile-names"></div>
    </div>
  </div>

  <!-- ---------- SCRIPT ---------- -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const cover = document.getElementById('cover');
      const startBtn = document.getElementById('startBtn');
      const quizCont = document.getElementById('quiz-container');
      const form = document.getElementById('quiz');
      const pages = document.querySelectorAll('.page');
      const prevBtn = document.getElementById('prevBtn');
      const nextBtn = document.getElementById('nextBtn');
      const resultBox = document.getElementById('result');
      const titleEl = document.getElementById('result-title');
      const namesEl = document.getElementById('profile-names');
      const nameInput = document.getElementById('userName');
      const phoneInput = document.getElementById('userPhone');

      const FORMSPREE_URL = 'https://formspree.io/f/mwpbopng';

      const profiles = {
        A: 'Analista',
        B: 'Executor',
        C: 'Planejador',
        D: 'Comunicativo'
      };

      let currentPage = 0;
      let userName = '';
      let userPhone = '';

      function showPage(n) {
        pages.forEach((p, i) => p.style.display = i === n ? 'block' : 'none');
        prevBtn.style.display = n === 0 ? 'none' : 'inline-block';
        nextBtn.textContent = n === pages.length - 1 ? 'Enviar' : 'Próxima';
      }

      /* ---------- Iniciar Quiz ---------- */
      startBtn.addEventListener('click', () => {
        const nameVal = nameInput.value.trim();
        const phoneVal = phoneInput.value.trim();

        if (!nameVal || !phoneVal) {
          alert('Por favor, preencha nome e telefone.');
          return;
        }
        userName = nameVal;
        userPhone = phoneVal;

        cover.style.display = 'none';
        quizCont.style.display = 'block';
        showPage(0);
      });

      /* ---------- Navegação ---------- */
      prevBtn.addEventListener('click', () => {
        if (currentPage > 0) showPage(--currentPage);
      });

      nextBtn.addEventListener('click', () => {
        if (currentPage < pages.length - 1) {
          showPage(++currentPage);
        } else {
          form.requestSubmit();
        }
      });

      /* ---------- Submissão ---------- */
      form.addEventListener('submit', e => {
        e.preventDefault();

        const data = new FormData(form);
        const tally = { A: 0, B: 0, C: 0, D: 0 };

        for (let i = 1; i <= 10; i++) {
          tally[data.get('q' + i)]++;
        }

        const max = Math.max(...Object.values(tally));
        const winners = Object.keys(tally).filter(k => tally[k] === max);
        const perfilNomes = winners.map(k => profiles[k]);   // nomes completos

        /* ---------- Envio ao Formspree ---------- */
        fetch(FORMSPREE_URL, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json', 'Accept': 'application/json' },
          body: JSON.stringify({
            nome: userName,
            telefone: userPhone,
            perfil: perfilNomes.join(', ')    // "Analista", ou "Analista, Planejador"
          })
        }).catch(console.error);

        /* ---------- Resultado ao usuário ---------- */
        titleEl.textContent = perfilNomes.length > 1 ? 'Seus perfis:' : 'Seu perfil:';
        namesEl.textContent = perfilNomes.join(' e ');

        form.style.display = 'none';
        resultBox.style.display = 'block';
      });
    });
  </script>
</body>

</html>